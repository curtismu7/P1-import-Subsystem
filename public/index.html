<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PingOne User Import v7.0.0.20</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <!-- Ping Identity Official CSS -->
    <link rel="stylesheet" href="https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.9/end-user-nano.css">
    <link rel="stylesheet" href="https://assets.pingone.com/ux/astro-nano/0.1.0-alpha.11/icons.css">
    <!-- Bootstrap CSS -->
    <link href="/vendor/bootstrap/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles-fixed.css">
    <!-- Ping Identity Theme CSS -->
    <link rel="stylesheet" href="/css/ping-identity.css">
    <!-- Token Status Indicator CSS -->
    <link rel="stylesheet" href="/css/token-status-indicator.css">
    <link rel="stylesheet" href="/css/enhanced-token-status.css">
    <link rel="stylesheet" href="/css/token-manager.css">
    <link rel="stylesheet" href="/css/compact-token-info.css">
    <link rel="stylesheet" href="/css/global-spinner.css">
    <link rel="stylesheet" href="/css/token-notification.css">
    <!-- Progress UI CSS -->
    <link rel="stylesheet" href="/css/enhanced-progress.css">
    <link rel="stylesheet" href="/css/progress-ui.css">
    <!-- API URL Subsystem CSS -->
    <link rel="stylesheet" href="/css/api-url-subsystem.css">
    <!-- Disclaimer Modal CSS -->
    <link rel="stylesheet" href="/css/disclaimer-modal.css">
    <!-- Credentials Modal CSS -->
    <link rel="stylesheet" href="/css/credentials-modal.css">
    <!-- Status Bar CSS -->
    <link rel="stylesheet" href="/css/status-bar.css">
    <!-- Real-time Collaboration UI Styles -->
    <link rel="stylesheet" href="/css/realtime-collaboration.css">

    <!-- History UI Styles -->
    <link rel="stylesheet" href="/css/history-ui.css">
    <!-- Logging UI Styles -->
    <link rel="stylesheet" href="/css/logging-ui.css">
    <!-- Testing UI Styles -->
    <link rel="stylesheet" href="/css/testing-ui.css">
    <!-- Status Bar Fix CSS -->
    <link rel="stylesheet" href="/css/status-bar-fix.css">
    <link rel="stylesheet" href="/css/version-widget.css">
    <!-- Token Manager CSS -->
    <link rel="stylesheet" href="/css/token-manager.css">
    <!-- Compact Token Info CSS -->
    <link rel="stylesheet" href="/css/compact-token-info.css">
    <!-- Note: Individual ES module scripts removed - all functionality now bundled in bundle.js -->
    <!-- ES modules are properly bundled and transpiled via Browserify + Babel -->
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="0">
    <link rel="stylesheet" href="css/bug-fix-notifications.css">
</head>
<body class="ping-identity-theme">
    <!-- Safe Logger Fallback - Loads first to ensure logging is always available -->
    <script src="/js/utils/centralized-logger-fallback.js"></script>
    
    <!-- Startup Wait Screen (spinner only shown during actual loading) -->
    <div id="startup-wait-screen" class="startup-wait-screen" style="display:none;">
        <div class="startup-wait-content">
            <div class="startup-spinner" style="display:none;">
                <div class="spinner"></div>
            </div>
            <div class="startup-text" style="display:none;">
                <h2>Please wait</h2>
                <p>Initializing application...</p>
            </div>
        </div>
    </div>
    
    <!-- Loading Overlay for Modal Transitions -->
    <div id="modal-loading-overlay" class="modal-loading-overlay" style="display: none;">
        <div class="modal-loading-content">
            <div class="modal-loading-spinner">
                <div class="spinner"></div>
            </div>
            <div class="modal-loading-text">
                <h3 id="modal-loading-title">Loading...</h3>
                <p id="modal-loading-message">Please wait while we set up your experience.</p>
            </div>
        </div>
    </div>
    
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <img src="https://raw.githubusercontent.com/curtismu7/CDN/fd81b602d8c3635a8ca40aab169c83b86eae2dc0/Ping%20Identity_idEzgMTpXK_1.svg" alt="Ping Identity" class="logo">
            </div>
            <div class="sidebar-content">
                <ul class="nav-links">
                    <li class="nav-item active" data-view="home">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </li>
                    <li class="nav-item" data-view="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </li>
                    <li class="nav-item" data-view="token-manager">
                        <i class="fas fa-key"></i>
                        <span>Token Manager</span>
                    </li>
                    <li class="nav-item" data-view="import">
                        <i class="fas fa-upload"></i>
                        <span>Import</span>
                    </li>
                    <li class="nav-item" data-view="delete-csv">
                        <i class="fas fa-trash"></i>
                        <span>Delete</span>
                    </li>
                    <li class="nav-item" data-view="modify">
                        <i class="fas fa-edit"></i>
                        <span>Modify</span>
                    </li>
                    <li class="nav-item" data-view="export">
                        <i class="fas fa-download"></i>
                        <span>Export</span>
                    </li>
                    <li class="nav-item" data-view="logs">
                        <i class="fas fa-file-alt"></i>
                        <span>Logs</span>
                    </li>
                    <li class="nav-item" data-view="swagger">
                        <i class="fas fa-book"></i>
                        <span>Swagger</span>
                    </li>
                    <li class="nav-item">
                        <a href="/test-runner.html" target="_blank" style="text-decoration: none; color: inherit;">
                            <i class="fas fa-vial"></i>
                            <span>Test Runner</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/swagger.html" target="_blank" style="text-decoration: none; color: inherit;">
                            <i class="fas fa-book"></i>
                            <span>API Docs</span>
                        </a>
                    </li>
                </ul>
            </div>
            <!-- Global Token Status Indicator -->
            <div id="global-token-status" class="global-token-status">
                <div class="global-token-header">
                    <i class="fas fa-key"></i>
                    <span class="global-token-title">Token Status</span>
                    <div class="global-token-time">
                        <span class="global-token-countdown"></span>
                    </div>
                </div>
                <div class="global-token-content">
                    <div class="global-token-status-display">
                        <span class="global-token-icon">⏳</span>
                        <span class="global-token-text">Checking token status...</span>
                        <span id="token-status-indicator" class="token-status-indicator">●</span>
                    </div>
                    <div class="global-token-actions">
                        <button id="global-refresh-token" class="btn btn-sm btn-outline-secondary" title="Refresh token status">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button id="global-get-token" class="btn btn-sm btn-success" title="Get new token" style="display: none;">
                            <i class="fas fa-key"></i> Get Token
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Legacy Token Status Indicator (hidden) -->
     
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Global Status Bar (always visible, green, emoji for success) -->
            <div id="global-status-bar" class="global-status-bar" style="background: #28a745; color: #fff; display: block; width: 100%; position: fixed; top: 0; left: 0; z-index: 9999;">
                <div class="container">
                    <div class="status-content" style="display: flex; align-items: center;">
                        <i class="status-icon">✅</i>
                        <span class="status-text">Ready</span>
                        <button class="status-close" title="Dismiss" style="margin-left: auto; background: none; border: none; color: #fff; font-size: 1.2em;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
            </div>
            

            
            <!-- Connection Status -->
            <div id="connection-status" class="connection-status" style="display: none;"></div>
            <!-- Dedicated Status Header -->
            <div id="notification-area" class="status-header"></div>
            
            <!-- Current Token Status Element -->
            <div id="current-token-status" class="current-token-status" style="display: none;"></div>
            
            <!-- Home Token Status Element -->
            <div id="home-token-status" class="home-token-status" style="display: none;"></div>
            
            <!-- Dashboard Preview Container -->
            <div id="dashboard-preview" class="dashboard-preview" style="display: none;"></div>
            
            <!-- Home View -->
            <div id="home-view" class="view active">
                <div class="home-header">
                    <h1>PingOne User Import Tool</h1>
                    

                </div>
                
                <div class="feature-cards">
                    <div class="feature-card" data-view="import">
                        <i class="fas fa-upload fa-2x"></i>
                        <h3>Import Users</h3>
                        <p>Bulk import users from CSV into PingOne.</p>
                    </div>
                    <div class="feature-card" data-view="delete-csv">
                        <i class="fas fa-trash fa-2x"></i>
                        <h3>Delete Users</h3>
                        <p>Bulk delete users from CSV in PingOne.</p>
                    </div>
                    <div class="feature-card" data-view="modify">
                        <i class="fas fa-edit fa-2x"></i>
                        <h3>Modify Users</h3>
                        <p>Bulk modify existing users in PingOne.</p>
                    </div>
                    <div class="feature-card" data-view="export">
                        <i class="fas fa-download fa-2x"></i>
                        <h3>Export Users</h3>
                        <p>Export all users from PingOne to CSV format.</p>
                    </div>
                    <div class="feature-card" data-view="settings">
                        <i class="fas fa-cog fa-2x"></i>
                        <h3>Settings</h3>
                        <p>Configure your PingOne environment and API credentials.</p>
                    </div>
                    <div class="feature-card" data-view="logs">
                        <i class="fas fa-list fa-2x"></i>
                        <h3>Logs</h3>
                        <p>View import, delete, and modify logs.</p>
                    </div>
                    <div class="feature-card" data-view="history">
                        <i class="fas fa-history fa-2x"></i>
                        <h3>History</h3>
                        <p>View operation history and activity logs.</p>
                    </div>
                </div>
            </div>

            <!-- Import View -->
            <div id="import-view" class="view">
                <div class="import-header">
                    <h1>Import Users</h1>
                    <div class="import-actions">
                        <div class="import-buttons">
                            <button id="cancel-import-btn" class="btn btn-secondary" style="display: none;">
                                <i class="fas fa-times"></i> Cancel Import
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="import-content">
                    <div id="import-drop-zone" class="import-drop-zone" tabindex="0" aria-label="Drag and drop CSV file here or click to select">
                        <i class="fas fa-cloud-upload-alt fa-2x"></i>
                        <div><strong>Drag & Drop CSV File Here</strong></div>
                        <div style="font-size:0.95em; color:#888;">or click to browse files</div>
                    </div>
                    <div class="file-upload-container">
                        <input type="file" id="csv-file" accept=".csv,.txt" class="file-input">
                        <label for="csv-file" class="file-label">
                            <i class="fas fa-upload"></i>
                            <span>Choose CSV File</span>
                        </label>

                        <!-- File Information Section (moved here) -->
                        <div id="file-info" class="file-info" style="margin-top: 10px;">
                            <!-- File info will be displayed here -->
                        </div>
                    </div>

                    <!-- Population Selection -->
                    <div class="population-selection">
                        <h3>Select Population</h3>
                        <div class="population-options">
                            <div class="form-group">
                                <label for="import-population-select">Import Population:</label>
                                <select id="import-population-select" class="form-control">
                                    <option value="">Loading populations...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="population-api-url">API URL:</label>
                                <div id="population-api-url" class="api-url-display">
                                    <span class="api-url-text">Select a population to see the API URL</span>
                                </div>
                                <div class="population-name-display" style="margin-top: 8px;">
                                    <span class="population-name-text">Population: Select a population</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Import Options -->
                    <div class="import-options">
                        <h3>Import Options</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="skip-duplicates">
                                Skip duplicate users (by email)
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="skip-duplicates-username">
                                Skip duplicate users (by username)
                            </label>
                        </div>

                    </div>

                    <!-- Import Button -->
                    <div class="form-actions">
                        <button id="start-import" class="btn btn-primary" disabled>
                            <i class="fas fa-upload"></i> Start Import
                        </button>
                    </div>

                    <!-- Enhanced Progress Section for Import UI -->

            <div id="import-progress-container" class="enhanced-progress progress-container" style="display:none;">
                        <div class="progress-section">
                            <div class="progress-header">
                                <h3><i class="fas fa-cog fa-spin"></i> Import Progress</h3>
                                <button class="close-progress-btn" type="button" aria-label="Close progress">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            
                            <div class="progress-content">
                                <div class="progress-bar-container">
                                    <div class="progress-bar">
                                        <div class="progress-bar-fill"></div>
                                    </div>
                                    <div class="progress-percentage">0%</div>
                                </div>
                                
                                <div class="progress-status">
                                    <div class="status-message">Preparing import...</div>
                                    <div class="progress-text"></div>
                                    <div class="status-details"></div>
                                </div>
                                
                                <div class="progress-stats">
                                    <div class="stat-item">
                                        <span class="stat-label">Total:</span>
                                        <span class="stat-value total">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Processed:</span>
                                        <span class="stat-value processed">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Success:</span>
                                        <span class="stat-value success">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Failed:</span>
                                        <span class="stat-value failed">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Skipped:</span>
                                        <span class="stat-value skipped">0</span>
                                    </div>
                                </div>
                                
                                <div class="progress-timing">
                                    <div class="time-elapsed">
                                        <i class="fas fa-clock"></i>
                                        <span>Elapsed: <span class="elapsed-value">00:00</span></span>
                                    </div>
                                    <div class="time-remaining">
                                        <i class="fas fa-hourglass-half"></i>
                                        <span>ETA: <span class="eta-value">Calculating...</span></span>
                                    </div>
                                </div>
                                
                                <div class="progress-actions">
                                    <button class="btn btn-secondary cancel-import-btn" type="button">
                                        <i class="fas fa-stop"></i> Cancel Import
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History View -->
            <div id="history-view" class="view">
                <div class="history-header">
                    <h1>Operation History</h1>
                    <div class="history-actions">
                        <button id="go-home-from-history" class="btn btn-secondary" type="button">
                            <i class="fas fa-home"></i> Home
                        </button>
                        <button id="refresh-history" class="btn btn-secondary">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                        <button id="clear-history" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Clear History
                        </button>
                        <button id="history-search-icon" class="btn btn-light" title="Search History" aria-label="Search History" style="margin-left:8px;">
                            <i class="fas fa-search"></i>
                        </button>
                        <input type="text" id="history-search-input" class="form-control" placeholder="Search history..." style="display:none; width:200px; margin-left:8px; vertical-align:middle;" aria-label="Search history">
                    </div>
                </div>
                
                <div class="history-content">
                    <div class="history-filters">
                        <div class="filter-group">
                            <label for="history-type-filter">Operation Type:</label>
                            <select id="history-type-filter" class="form-control">
                                <option value="">All Types</option>
                                <option value="IMPORT">Import</option>
                                <option value="EXPORT">Export</option>
                                <option value="DELETE">Delete</option>
                                <option value="MODIFY">Modify</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="history-population-filter">Population:</label>
                            <select id="history-population-filter" class="form-control">
                                <option value="">Loading populations...</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="history-date-start">Start Date:</label>
                            <input type="date" id="history-date-start" class="form-control">
                        </div>
                        <div class="filter-group">
                            <label for="history-date-end">End Date:</label>
                            <input type="date" id="history-date-end" class="form-control">
                        </div>
                        <div class="filter-group" style="margin-top: 2rem;">
                            <button id="apply-history-filters" class="btn btn-primary">
                                <i class="fas fa-filter"></i> Apply Filters
                            </button>
                            <button id="clear-history-filters" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Clear
                            </button>
                        </div>
                    </div>
                    
                    <div class="history-container" id="history-container">
                        <!-- History entries will be displayed here -->
                    </div>
                </div>
            </div>



            <!-- Delete CSV View -->
            <div id="delete-csv-view" class="view">
                <div class="delete-header">
                    <h1>Delete Users</h1>
                    <div class="delete-actions">
                        <div class="delete-buttons">
                            <button id="cancel-delete-btn" class="btn btn-secondary" style="display: none;">
                                <i class="fas fa-times"></i> Cancel Delete
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="delete-content">
                    <!-- Delete Type Selection -->
                    <div class="delete-type-selection">
                        <h3>Select Delete Type</h3>
                        <div class="delete-type-options">
                            <div class="form-group">
                                <label class="radio-option">
                                    <input type="radio" name="delete-type" value="file" checked>
                                    <span class="radio-label">
                                        <i class="fas fa-file-csv"></i>
                                        <strong>Delete by File</strong>
                                        <small>Delete users from a CSV file</small>
                                    </span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="radio-option">
                                    <input type="radio" name="delete-type" value="population">
                                    <span class="radio-label">
                                        <i class="fas fa-users"></i>
                                        <strong>Delete by Population</strong>
                                        <small>Delete all users in a specific population</small>
                                    </span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="radio-option">
                                    <input type="radio" name="delete-type" value="environment">
                                    <span class="radio-label">
                                        <i class="fas fa-exclamation-triangle text-danger"></i>
                                        <strong>Delete All Users</strong>
                                        <small>Delete ALL users in the environment (IRREVERSIBLE)</small>
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- File Upload Section (shown when "Delete by File" is selected) -->
                    <div id="delete-file-section" class="delete-section">
                        <div id="delete-drop-zone" class="import-drop-zone" tabindex="0" aria-label="Drag and drop CSV file here or click to select">
                            <i class="fas fa-cloud-upload-alt fa-2x"></i>
                            <div><strong>Drag & Drop CSV File Here</strong></div>
                            <div style="font-size:0.95em; color:#888;">Drop a file here to delete users by population</div>
                        </div>
                        <div class="file-upload-container">
                            <input type="file" id="delete-csv-file" accept=".csv,.txt" class="file-input">
                            <label for="delete-csv-file" class="file-label">
                                <i class="fas fa-trash"></i>
                                <span>Choose CSV File with Users to Delete</span>
                            </label>

                            <div id="delete-file-info" class="file-info" style="margin-top: 10px;">
                                <!-- File info will be displayed here -->
                            </div>
                        </div>
                    </div>

                    <!-- Population Selection Section (shown when "Delete by Population" is selected) -->
                    <div id="delete-population-section" class="delete-section" style="display: none;">
                        <div class="population-selection">
                            <h3>Select Population to Delete</h3>
                            <div class="population-options">
                                <div class="form-group">
                                    <label for="delete-population-select">Population:</label>
                                    <select id="delete-population-select" class="form-control">
                                        <option value="">Loading populations...</option>
                                    </select>
                                </div>
                                <div id="delete-population-api-url" class="api-url-display" style="margin-top: 0.25rem; font-size: 0.9em; color: #007bff;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Environment Delete Warning Section (shown when "Delete All Users" is selected) -->
                    <div id="delete-environment-section" class="delete-section" style="display: none;">
                        <div class="environment-delete-warning">
                            <div class="alert alert-danger">
                                <h4><i class="fas fa-exclamation-triangle"></i> WARNING: Full Environment Deletion</h4>
                                <p><strong>This action will delete ALL users in your PingOne environment.</strong></p>
                                <ul>
                                    <li>This action is <strong>IRREVERSIBLE</strong></li>
                                    <li>All user accounts will be permanently deleted</li>
                                    <li>No backup will be created automatically</li>
                                    <li>This may affect all applications using this environment</li>
                                    <li>All user data, settings, and configurations will be lost</li>
                                </ul>
                                <p><strong>Please ensure you have a backup before proceeding.</strong></p>
                            </div>
                        </div>
                    </div>

                    <!-- Delete Options -->
                    <div class="delete-options">
                        <h3>Delete Options</h3>
                        
                        <!-- Standard confirmation for file/population deletes -->
                        <div id="standard-confirmation" class="form-group">
                            <label>
                                <input type="checkbox" id="confirm-delete" required>
                                I confirm that I want to delete these users permanently
                            </label>
                        </div>

                        <!-- Enhanced confirmation for environment delete -->
                        <div id="environment-confirmation" class="form-group" style="display: none;">
                            <div class="alert alert-warning">
                                <label>
                                    <input type="checkbox" id="confirm-environment-delete" required>
                                    <strong>I understand this will delete ALL users in the environment</strong>
                                </label>
                                <div class="form-group" style="margin-top: 10px;">
                                    <label for="environment-delete-text">Type "DELETE ALL" to confirm:</label>
                                    <input type="text" id="environment-delete-text" class="form-control" placeholder="Type DELETE ALL to confirm">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="delete-skip-not-found" checked>
                                Skip users not found in the population
                            </label>
                        </div>
                    </div>

                    <!-- Delete Button -->
                    <div class="form-actions">
                        <button id="start-delete" class="btn btn-danger" disabled>
                            <i class="fas fa-trash"></i> Start Delete
                        </button>
                    </div>

                    <!-- Progress Container for Delete UI -->
                    <div id="delete-progress-container" class="enhanced-progress progress-container" style="display:none;"></div>
                </div>
            </div>

            <!-- Modify View -->
            <div id="modify-view" class="view">
                <div class="modify-header">
                    <h1>Modify Users</h1>
                    <div class="modify-actions">
                        <div class="modify-buttons">
                            <button id="cancel-modify-btn" class="btn btn-secondary" style="display: none;">
                                <i class="fas fa-times"></i> Cancel Modify
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="modify-content">
                    <div id="modify-drop-zone" class="import-drop-zone" tabindex="0" aria-label="Drag and drop CSV file here or click to select">
                        <i class="fas fa-cloud-upload-alt fa-2x"></i>
                        <div><strong>Drag & Drop CSV File Here</strong></div>
                        <div style="font-size:0.95em; color:#888;">or click to browse files</div>
                    </div>
                    <div class="file-upload-container">
                        <input type="file" id="modify-csv-file" accept=".csv,.txt" class="file-input">
                        <label for="modify-csv-file" class="file-label">
                            <i class="fas fa-edit"></i>
                            <span>Choose CSV File with User Updates</span>
                        </label>

                        <!-- File Information Section (moved here to match Import page) -->
                        <div id="modify-file-info" class="file-info" style="margin-top: 10px;">
                            <!-- File info will be displayed here -->
                        </div>
                    </div>

                    <!-- Population Selection -->
                    <div class="population-selection">
                        <h3>Select Population</h3>
                        <div class="population-options">
                            <div class="form-group">
                                <label for="modify-population-select">Population:</label>
                                <select id="modify-population-select" class="form-control">
                                    <option value="">Loading populations...</option>
                                </select>
                                <div id="modify-population-api-url" class="api-url-display" style="margin-top: 0.25rem; font-size: 0.9em; color: #007bff;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Modify Options -->
                    <div class="modify-options">
                        <h3>Modify Options</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="modify-skip-not-found" checked>
                                Skip users not found in the population
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="modify-update-email" checked>
                                Update email addresses if changed
                            </label>
                        </div>
                    </div>

                    <!-- Modify Button -->
                    <div class="form-actions">
                        <button id="start-modify" class="btn btn-warning" disabled>
                            <i class="fas fa-edit"></i> Start Modify
                        </button>
                    </div>

                    <!-- Progress Container for Modify UI -->
                    <div id="modify-progress-container" class="enhanced-progress progress-container" style="display:none;"></div>
                </div>
            </div>

            <!-- Export View -->
            <div id="export-view" class="view">
                <div class="export-header">
                    <h1>Export Users</h1>
                </div>
                
                <div class="export-content">
                    <!-- Population Selection -->
                    <div class="export-population-section">
                        <h3>Select Population</h3>
                        <div class="form-group">
                            <label for="export-population-select">Population:</label>
                            <select id="export-population-select" class="form-control" required>
                                <option value="">Select a population...</option>
                                <option value="ALL">ALL - Export from all populations</option>
                            </select>
                            <div id="export-population-api-url" class="api-url-display" style="margin-top: 0.25rem; font-size: 0.9em; color: #007bff;"></div>
                        </div>
                    </div>

                    <!-- Export Credentials Override Section -->
                    <div class="export-credentials-section">
                        <h3>Export Credentials</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="export-use-override-credentials">
                                Change credentials for Export only
                            </label>
                            <small class="form-text">Use different credentials for this export operation</small>
                        </div>
                        
                        <form id="export-credentials-form" class="credentials-fields" style="display: none;">
                            <div class="form-group">
                                <label for="export-environment-id">Environment ID:</label>
                                <input type="text" id="export-environment-id" class="form-control" placeholder="Enter environment ID">
                            </div>
                            
                            <div class="form-group">
                                                            <label for="export-api-client-id">API Client ID:</label>
                            <input type="text" id="export-api-client-id" class="form-control" placeholder="Enter API client ID" autocomplete="username">
                            </div>
                            
                            <div class="form-group">
                                <label for="export-api-secret">API Secret:</label>
    <div class="form-group">
        <label for="pingone_environment_id">PingOne Environment ID:</label>
        <input type="text" id="pingone_environment_id_main" class="form-control" placeholder="Enter PingOne Environment ID">
    </div>
    <div class="form-group">
        <label for="pingone_client_id">PingOne Client ID:</label>
        <input type="text" id="pingone_client_id_main" class="form-control" placeholder="Enter PingOne Client ID" autocomplete="username">
    </div>
    <div class="form-group">
        <label for="pingone_client_secret">PingOne Client Secret:</label>
        <div class="input-group">
            <input type="password" id="pingone_client_secret_main" class="form-control" placeholder="Enter PingOne Client Secret" autocomplete="current-password">
            <button type="button" id="toggle-pingone-client-secret-visibility-main" class="btn btn-outline-secondary" aria-label="Toggle password visibility">
                <i class="fas fa-eye"></i>
            </button>
        </div>
    </div>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <button type="button" id="generate-export-token" class="btn btn-primary">
                                    <i class="fas fa-key"></i> Generate Export Token
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Export Token Status -->
                    <div id="export-token-status" class="token-status-section" style="display: none;">
                        <h3>Export Token Status</h3>
                        <div class="token-status-display">
                            <div class="token-timer">
                                <span class="token-status-label">Time Remaining:</span>
                                <span id="export-token-timer" class="token-timer-value">--:--</span>
                                <!-- <span id="export-token-status-indicator" class="token-status-indicator">●</span> -->
                            </div>
                            
                            <div class="token-metadata">
                                <div class="token-info">
                                    <strong>Scopes:</strong> <span id="export-token-scopes">--</span>
                                </div>
                                <div class="token-info">
                                    <strong>Environment:</strong> <span id="export-token-environment">--</span>
                                </div>
                                <div class="token-info">
                                    <strong>Expires:</strong> <span id="export-token-expires">--</span>
                                </div>
                            </div>
                            
                            <div class="token-actions">
                                <button type="button" id="view-export-token" class="btn btn-outline-info btn-sm">
                                    <i class="fas fa-eye"></i> View Raw Token
                                </button>
                                <button type="button" id="refresh-export-token" class="btn btn-outline-warning btn-sm">
                                    <i class="fas fa-sync-alt"></i> Refresh Token
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- JWT Decoder Panel -->
                    <div id="export-jwt-panel" class="jwt-panel" style="display: none;">
                        <h3>JWT Token Details</h3>
                        <div class="jwt-sections">
                            <div class="jwt-section">
                                <h4>Raw Token</h4>
                                <div class="jwt-content">
                                    <pre id="export-jwt-raw" class="jwt-raw"></pre>
                                    <button type="button" id="copy-jwt-raw" class="btn btn-outline-secondary btn-sm">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                </div>
                            </div>
                            
                            <div class="jwt-section">
                                <h4>Header</h4>
                                <div class="jwt-content">
                                    <pre id="export-jwt-header" class="jwt-decoded"></pre>
                                    <button type="button" id="copy-jwt-header" class="btn btn-outline-secondary btn-sm">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                </div>
                            </div>
                            
                            <div class="jwt-section">
                                <h4>Payload</h4>
                                <div class="jwt-content">
                                    <pre id="export-jwt-payload" class="jwt-decoded"></pre>
                                    <button type="button" id="copy-jwt-payload" class="btn btn-outline-secondary btn-sm">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                </div>
                            </div>
                            
                            <div class="jwt-section">
                                <h4>Signature</h4>
                                <div class="jwt-content">
                                    <pre id="export-jwt-signature" class="jwt-signature"></pre>
                                    <button type="button" id="copy-jwt-signature" class="btn btn-outline-secondary btn-sm">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="jwt-panel-actions">
                            <button type="button" id="close-jwt-panel" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Close
                            </button>
                        </div>
                    </div>

                    <!-- Export Options -->
                    <div class="export-options-container">
                        <h3>Export Options</h3>
                        <div class="form-group">
                            <label for="export-population-filter">User Status Filter:</label>
                            <select id="export-population-filter" class="form-control">
                                <option value="all" selected>All Users</option>
                                <option value="active">Active Users Only</option>
                                <option value="inactive">Inactive Users Only</option>
                                <option value="archived">Archived Users Only</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="export-format">Export Format:</label>
                            <select id="export-format" class="form-control">
                                <option value="csv">CSV</option>
                                <option value="json">JSON</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="export-include-disabled" checked>
                                Include disabled users
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="export-include-metadata" checked>
                                Include user metadata
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button id="export-btn" class="btn btn-success" disabled>
                            <i class="fas fa-download"></i> Start Export
                        </button>
                    </div>

                    <!-- Progress Container for Export UI -->
                    <div id="export-progress-container" class="enhanced-progress progress-container" style="display:none;"></div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view">
                <div class="settings-header">
                    <h1>Settings</h1>
                </div>
                
                <div class="settings-content">
                    <form id="settings-form" class="settings-section">
                        <h3>PingOne Configuration</h3>
                        
                        <div class="form-group">
                            <label for="pingone_environment_id">PingOne Environment ID:</label>
                            <input type="text" id="pingone_environment_id_settings" name="pingone_environment_id" class="form-control" placeholder="Enter your PingOne Environment ID">
                        </div>
                        
                        <div class="form-group">
                            <label for="pingone_client_id">PingOne Client ID:</label>
                            <input type="text" id="pingone_client_id_settings" name="pingone_client_id" class="form-control" placeholder="Enter your PingOne Client ID" autocomplete="username">
                        </div>
                        
                        <div class="form-group">
                            <label for="pingone_client_secret">PingOne Client Secret:</label>
                            <div class="input-group">
                                <input type="password" id="pingone_client_secret_settings" name="pingone_client_secret" class="form-control" placeholder="Enter your PingOne Client Secret" autocomplete="current-password">
                                <button type="button" id="toggle-pingone-client-secret-visibility-settings" class="btn btn-outline-secondary" aria-label="Toggle password visibility">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="pingone_region_settings">PingOne Region:</label>
                            <select id="pingone_region_settings" name="pingone_region" class="form-control">
                                <option value="NorthAmerica">North America</option>
                                <option value="Europe">Europe</option>
                                <option value="Canada">Canada</option>
                                <option value="AsiaPacific">Asia Pacific</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="rate-limit">Rate Limit (requests per minute):</label>
                            <input type="number" id="rate-limit" name="rate-limit" class="form-control" value="90" min="1" max="1000">
                        </div>
                        
                        <div class="form-group">
                            <label for="population-id">Default Population ID:</label>
                            <input type="text" id="population-id" name="population-id" class="form-control" 
                                   placeholder="Enter default population ID (optional)"
                                   pattern="[a-fA-F0-9\-]{36}"
                                   title="Please enter a valid UUID format (36 characters, alphanumeric with hyphens)"
                                   maxlength="36">
                            <small class="form-text">Optional: Set a default population ID for imports (UUID format)</small>
                        </div>
                    </form>
                    
                    <div class="form-actions">
                        <button id="save-settings" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                        <button id="test-connection-btn" class="btn btn-secondary">
                            <i class="fas fa-key"></i> Get Token
                        </button>
                        <button id="get-token-btn" class="btn btn-success">
                            <i class="fas fa-key"></i> Get Token
                        </button>
                    </div>
                    
                    <!-- Enhanced Status Field -->
                    <div class="settings-status-field">
                        <div id="settings-action-status" class="action-status" style="display: none;">
                            <div class="status-content">
                                <span class="status-icon"></span>
                                <span class="status-message"></span>
                                <button type="button" class="status-close" aria-label="Close status message">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-status-container">
                        <div id="settings-connection-status" class="connection-status" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Token Manager View -->
            <div id="token-manager-view" class="view">
                <div class="token-manager-header">
                    <h1><i class="fas fa-key"></i> Token Manager</h1>
                    <p class="token-manager-description">View, decode, refresh, and manage your PingOne access tokens</p>
                </div>
                
                <div class="token-manager-content">
                    <!-- Current Token Status -->
                    <div class="token-section">
                        <div class="section-header">
                            <h2><i class="fas fa-info-circle"></i> Current Token Status</h2>
                            <button id="refresh-token-status" class="btn btn-secondary btn-sm">
                                <i class="fas fa-sync-alt"></i> Refresh Status
                            </button>
                        </div>
                        <div id="current-token-info" class="token-info-card">
                            <div class="token-status-grid">
                                <div class="status-item">
                                    <div class="status-title">Date</div>
                                    <div class="status-value" id="token-date">Not Available</div>
                                </div>
                                <div class="status-item">
                                    <div class="status-title">Status</div>
                                    <div class="status-value">
                                        <span id="token-status-indicator" class="status-badge">Loading...</span>
                                    </div>
                                </div>
                                <div class="status-item">
                                    <div class="status-title">Environment ID</div>
                                    <div class="status-value" id="token-environment-id" title="Click to copy">Loading...</div>
                                </div>
                                <div class="status-item">
                                    <div class="status-title">Environment Name</div>
                                    <div class="status-value" id="token-environment-name" title="Click to copy">Not Available</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Token Display & Decode -->
                    <div class="token-section">
                        <div class="section-header">
                            <h2><i class="fas fa-eye"></i> Token Display & Decode</h2>
                            <div class="section-actions">
                                <button id="get-current-token" class="btn btn-primary btn-sm">
                                    <i class="fas fa-download"></i> Get Current Token
                                </button>
                                <button id="decode-token" class="btn btn-info btn-sm">
                                    <i class="fas fa-code"></i> Decode JWT
                                </button>
                                <button id="copy-token" class="btn btn-secondary btn-sm" style="display: none;">
                                    <i class="fas fa-copy"></i> Copy Token
                                </button>
                            </div>
                        </div>
                        
                        <div class="token-display-container">
                            <div class="form-group">
                                <label for="raw-token-display">Raw Access Token:</label>
                                <textarea id="raw-token-display" class="form-control token-textarea enhanced-token-display" 
                                         rows="8" 
                                         readonly 
                                         placeholder="Click 'Get Current Token' to display the raw JWT token here..."
                                         style="min-height: 200px; resize: vertical; word-wrap: break-word; white-space: pre-wrap;"></textarea>
                            </div>
                            
                            <div id="decoded-token-container" class="decoded-token-container" style="display: none;">
                                <h4><i class="fas fa-unlock"></i> Decoded JWT Token</h4>
                                <div class="jwt-sections">
                                    <div class="jwt-section">
                                        <h5>Header</h5>
                                        <pre id="jwt-header" class="jwt-content"></pre>
                                    </div>
                                    <div class="jwt-section">
                                        <h5>Payload</h5>
                                        <pre id="jwt-payload" class="jwt-content"></pre>
                                    </div>
                                    <div class="jwt-section">
                                        <h5>Signature</h5>
                                        <pre id="jwt-signature" class="jwt-content"></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Token Management Actions -->
                    <div class="token-section">
                        <div class="section-header">
                            <h2><i class="fas fa-cogs"></i> Token Management</h2>
                        </div>
                        
                        <div class="token-actions-grid">
                            <div class="action-card">
                                <div class="action-icon">
                                    <i class="fas fa-sync-alt"></i>
                                </div>
                                <div class="action-content">
                                    <h4>Refresh Token</h4>
                                    <p>Get a new access token using stored credentials</p>
                                    <button id="refresh-access-token" class="btn btn-success">
                                        <i class="fas fa-sync-alt"></i> Refresh Token
                                    </button>
                                </div>
                            </div>
                            
                            <div class="action-card">
                                <div class="action-icon">
                                    <i class="fas fa-trash"></i>
                                </div>
                                <div class="action-content">
                                    <h4>Clear Token</h4>
                                    <p>Remove the current token from memory</p>
                                    <button id="clear-token" class="btn btn-warning">
                                        <i class="fas fa-trash"></i> Clear Token
                                    </button>
                                </div>
                            </div>
                            
                            <div class="action-card">
                                <div class="action-icon">
                                    <i class="fas fa-vial"></i>
                                </div>
                                <div class="action-content">
                                    <h4>Test Token</h4>
                                    <p>Validate token by making a test API call</p>
                                    <button id="test-token" class="btn btn-info">
                                        <i class="fas fa-vial"></i> Test Token
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Token History -->
                    <div class="token-section">
                        <div class="section-header">
                            <h2><i class="fas fa-history"></i> Token History</h2>
                            <button id="clear-token-history" class="btn btn-outline-secondary btn-sm">
                                <i class="fas fa-trash"></i> Clear History
                            </button>
                        </div>
                        
                        <div id="token-history-container" class="token-history-container">
                            <div class="no-history-message">
                                <i class="fas fa-info-circle"></i>
                                <p>No token history available. Token operations will appear here.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs View -->
            <div id="logs-view" class="view">
                <div class="logs-header">
                    <h1>Logs</h1>
                    <div class="logs-actions">
                        <button id="refresh-logs" class="btn btn-secondary">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                        <button id="clear-logs" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Clear Logs
                        </button>
                        <button id="logs-search-icon" class="btn btn-light" title="Search Logs" aria-label="Search Logs" style="margin-left:8px;">
                            <i class="fas fa-search"></i>
                        </button>
                        <input type="text" id="logs-search-input" class="form-control" placeholder="Search logs..." style="display:none; width:200px; margin-left:8px; vertical-align:middle;" aria-label="Search logs">
                    </div>
                </div>
                
                <div class="logs-content">
                    <div class="logs-container" id="logs-container">
                        <!-- Logs will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Testing View -->
            <div id="testing-view" class="view">
                <div class="testing-header">
                    <h1><i class="fas fa-flask"></i> Testing Hub</h1>
                    <p class="testing-description">Comprehensive testing suite for API endpoints, UI components, and system functionality</p>
                </div>
                
                <div class="testing-content">
                    <!-- Testing Categories -->
                    <div class="testing-categories">
                        <!-- API Testing Section -->
                        <div class="testing-category">
                            <div class="category-header">
                                <h2><i class="fas fa-code"></i> API Testing</h2>
                                <p>Test API endpoints, authentication, and data validation</p>
                            </div>
                            <div class="category-actions">
                                <button class="btn btn-primary testing-btn" onclick="openAPITestingDashboard()">
                                    <i class="fas fa-rocket"></i> Open API Testing Dashboard
                                </button>
                                <button class="btn btn-success testing-btn" onclick="runQuickAPITests()">
                                    <i class="fas fa-play"></i> Run Quick API Tests
                                </button>
                                <button class="btn btn-info testing-btn" onclick="testAllSubsystems()">
                                    <i class="fas fa-cogs"></i> Test All Subsystems
                                </button>
                            </div>
                            <div id="api-test-results" class="test-results" style="display: none;"></div>
                        </div>

                        <!-- Swagger Documentation Section -->
                        <div class="testing-category">
                            <div class="category-header">
                                <h2><i class="fas fa-book"></i> API Documentation</h2>
                                <p>Interactive API documentation and testing interface</p>
                            </div>
                            <div class="category-actions">
                                <button class="btn btn-primary testing-btn" onclick="openSwaggerUI()">
                                    <i class="fas fa-external-link-alt"></i> Open Swagger UI
                                </button>
                                <button class="btn btn-success testing-btn" onclick="validateSwaggerSpec()">
                                    <i class="fas fa-check-circle"></i> Validate OpenAPI Spec
                                </button>
                                <button class="btn btn-info testing-btn" onclick="downloadSwaggerSpec()">
                                    <i class="fas fa-download"></i> Download API Spec
                                </button>
                            </div>
                            <div id="swagger-test-results" class="test-results" style="display: none;"></div>
                        </div>

                        <!-- UI Component Testing Section -->
                        <div class="testing-category">
                            <div class="category-header">
                                <h2><i class="fas fa-desktop"></i> UI Component Testing</h2>
                                <p>Test user interface components and interactions</p>
                            </div>
                            <div class="category-actions">
                                <button class="btn btn-primary testing-btn" onclick="testHistoryUI()">
                                    <i class="fas fa-history"></i> Test History UI
                                </button>
                                <button class="btn btn-primary testing-btn" onclick="testLoggingUI()">
                                    <i class="fas fa-list"></i> Test Logging UI
                                </button>
                                <button class="btn btn-primary testing-btn" onclick="testImportUI()">
                                    <i class="fas fa-upload"></i> Test Import UI
                                </button>
                                <button class="btn btn-success testing-btn" onclick="runAllUITests()">
                                    <i class="fas fa-play-circle"></i> Run All UI Tests
                                </button>
                            </div>
                            <div id="ui-test-results" class="test-results" style="display: none;"></div>
                        </div>

                        <!-- System Health Testing Section -->
                        <div class="testing-category">
                            <div class="category-header">
                                <h2><i class="fas fa-heartbeat"></i> System Health</h2>
                                <p>Monitor system health, performance, and connectivity</p>
                            </div>
                            <div class="category-actions">
                                <button class="btn btn-primary testing-btn" onclick="runHealthChecks()">
                                    <i class="fas fa-stethoscope"></i> Run Health Checks
                                </button>
                                <button class="btn btn-success testing-btn" onclick="testConnectivity()">
                                    <i class="fas fa-wifi"></i> Test Connectivity
                                </button>
                                <button class="btn btn-info testing-btn" onclick="checkPerformance()">
                                    <i class="fas fa-tachometer-alt"></i> Performance Check
                                </button>
                                <button class="btn btn-warning testing-btn" onclick="validateConfiguration()">
                                    <i class="fas fa-cog"></i> Validate Config
                                </button>
                            </div>
                            <div id="health-test-results" class="test-results" style="display: none;"></div>
                        </div>

                        <!-- Integration Testing Section -->
                        <div class="testing-category">
                            <div class="category-header">
                                <h2><i class="fas fa-link"></i> Integration Testing</h2>
                                <p>Test end-to-end workflows and system integration</p>
                            </div>
                            <div class="category-actions">
                                <button class="btn btn-primary testing-btn" onclick="testImportWorkflow()">
                                    <i class="fas fa-upload"></i> Test Import Workflow
                                </button>
                                <button class="btn btn-primary testing-btn" onclick="testExportWorkflow()">
                                    <i class="fas fa-download"></i> Test Export Workflow
                                </button>
                                <button class="btn btn-success testing-btn" onclick="testAuthFlow()">
                                    <i class="fas fa-key"></i> Test Auth Flow
                                </button>
                                <button class="btn btn-info testing-btn" onclick="runE2ETests()">
                                    <i class="fas fa-route"></i> Run E2E Tests
                                </button>
                            </div>
                            <div id="integration-test-results" class="test-results" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Global Test Results -->
                    <div class="global-test-results">
                        <div class="results-header">
                            <h3><i class="fas fa-chart-line"></i> Test Results Summary</h3>
                            <div class="results-actions">
                                <button class="btn btn-secondary" onclick="clearAllTestResults()">
                                    <i class="fas fa-trash"></i> Clear Results
                                </button>
                                <button class="btn btn-info" onclick="exportTestResults()">
                                    <i class="fas fa-file-export"></i> Export Results
                                </button>
                            </div>
                        </div>
                        <div id="global-test-summary" class="test-summary">
                            <div class="summary-stats">
                                <div class="stat-card">
                                    <div class="stat-value" id="total-tests">0</div>
                                    <div class="stat-label">Total Tests</div>
                                </div>
                                <div class="stat-card success">
                                    <div class="stat-value" id="passed-tests">0</div>
                                    <div class="stat-label">Passed</div>
                                </div>
                                <div class="stat-card error">
                                    <div class="stat-value" id="failed-tests">0</div>
                                    <div class="stat-label">Failed</div>
                                </div>
                                <div class="stat-card warning">
                                    <div class="stat-value" id="skipped-tests">0</div>
                                    <div class="stat-label">Skipped</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="ping-footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <img src="ping-identity-logo.png" alt="Ping Identity" class="ping-logo-img">
                        <span class="ping-trademark">PingIdentity<span class="trademark-symbol">™</span></span>
                    </div>
                    <span class="footer-copyright">
                        &copy; 2025 PingOne Import Tool <span class="version-display" style="display: inline-block; font-size: 0.9em; margin-left: 10px; vertical-align: middle;">v7.0.0.20</span>
                    </span>
                </div>
                <div class="footer-right">
                    <div class="footer-links">
                        <a href="https://support.pingidentity.com/" target="_blank" rel="noopener noreferrer">Support</a>
                        <a href="https://docs.pingidentity.com/" target="_blank" rel="noopener noreferrer">Documentation</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Socket.IO Client Library -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Population Dropdown Fix Script -->
    <script src="/js/population-dropdown-fix.js"></script>


    <!-- Delete Page Handler Script -->
    <script src="/js/delete-page-handler.js"></script>
    <!-- API URL Subsystem Client Script -->
    <script src="/js/api-url-subsystem-client.js"></script>
    <!-- JavaScript -->
    <!-- Import Maps Configuration -->
    <script type="importmap" src="/import-maps.json"></script>
    
    <!-- Progressive Enhancement Loader -->
    <!-- This script detects import maps support and loads either modules or bundle -->
    <!-- Version: 7.0.0.20 - Added 2025-07-30 - Import Maps Migration -->
    <script src="/js/import-maps-loader.js"></script>
    
    <!-- Pre-load critical fixes and utilities -->
    <script src="/js/bug-fix-loader.js"></script>
    <!-- Console Cleaner - Suppresses all token-related console messages and fixes page title -->
    <script src="/js/console-cleaner.js"></script>
    <!-- Region Code Fix - Ensures standardized region codes (NA, EU, CA, AP) -->
    <script src="/js/region-code-fix.js"></script>
    <!-- Token Status Fix - Provides fallback for token status checks -->
    <script src="/js/token-status-fix.js"></script>
    <!-- Settings Token Fix - Specifically fixes token status on settings page -->
    <script src="/js/settings-token-fix.js"></script>
    <!-- Test script for region code fix -->
    <script src="/js/test-region-code-fix.js"></script>
    <!-- Settings Loader - Loads settings from API before bundle initialization -->
    <script src="/js/settings-loader.js"></script>
    
    <!-- Bundle is now loaded dynamically by import-maps-loader.js -->
    <!-- <script src="/js/bundle-1754340243.js"></script> -->
    
    <!-- Fallback error handling for bundle loading -->
    <script>
        // Simple fallback if bundle fails to load
        window.addEventListener('error', function(e) {
            if (e.filename && e.filename.includes('bundle-')) {
                console.error('Bundle loading failed:', e);
                const errorDiv = document.createElement('div');
                errorDiv.innerHTML = `
                    <div style="color: red; text-align: center; padding: 20px; background: #ffe6e6; border: 1px solid #ff0000; margin: 10px;">
                        <h3>Application Loading Error</h3>
                        <p>The application bundle failed to load. Please:</p>
                        <ul style="text-align: left; display: inline-block;">
                            <li>Refresh the page (Ctrl+F5 or Cmd+Shift+R)</li>
                            <li>Clear your browser cache</li>
                            <li>Check your internet connection</li>
                        </ul>
                        <button onclick="location.reload(true)" style="padding: 10px 20px; margin-top: 10px;">Reload Page</button>
                    </div>
                `;
                document.body.insertBefore(errorDiv, document.body.firstChild);
            }
        });
    </script>
    <script src="/js/modules/log-manager.js"></script>
    
    <!-- Simple Navigation Fallback -->
    <script src="/js/simple-navigation.js"></script>
    <script src="/js/import-api-fix.js"></script>

    
    <!-- Version Display Component -->
    <div id="version-display" class="version-widget">v7.0.0.18</div>
</body>
</html>
